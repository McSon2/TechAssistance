<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Administration du blog</title>
    <meta name="robots" content="noindex">
    <link rel="icon" href="images/favicon.ico" type="image/x-icon" />
    <meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="default">
<link rel="apple-touch-icon" href="images/logor.png">
<meta name="apple-mobile-web-app-title" content="Admin">
    <link rel="stylesheet" href="/css/admin.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>
<body>
    <h1>Ajouter un nouvel article</h1>
    <div class="form-container"></div>
    <form id="article-form">
        <label for="titre">Titre:</label><br>
        <input type="text" id="titre" name="titre"><br>
        <label for="tags">Tags (séparés par des virgules):</label><br>
        <input type="text" id="tags" name="tags"><br>
        <label for="contenu">Contenu:</label><br>
        <textarea id="contenu" name="contenu"></textarea><br>
        <label for="password">Mot de passe:</label><br>
        <input type="password" id="password" name="password"><br>
        <input type="submit" value="Ajouter l'article">
    </form>
    </div>
    <div id="notification">L'article a été ajouté avec succès.</div>
    <button id="ok-button" onclick="hideNotification()">OK</button>

    <script>
        $("#article-form").submit(function(event) {
            event.preventDefault(); // Empêche le formulaire d'être soumis normalement

            $.post("php/admin.php", $(this).serialize()) // Envoie les données du formulaire en arrière-plan
                .done(function() {
                    $("#notification").show(); // Affiche la notification
                    $("#ok-button").show(); // Affiche le bouton OK
                    $("#article-form")[0].reset(); // Vide le formulaire
                });
        });

        function hideNotification() {
            $("#notification").hide(); // Cache la notification
            $("#ok-button").hide(); // Cache le bouton OK
        }
    </script>
</body>
</html>